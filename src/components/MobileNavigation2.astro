---
import { Icon } from "astro-icon/components";
import MenuButton from "./MenuButton.astro";


---


<div class="nav-menu">
        <input type="checkbox" />
        <div class="hamburger">
          <div class="dots">
            <span class="first"></span>
            <span class="second"></span>
            <span class="third"></span>
    </div>
    </div>
    <div class="action-items-bar">
       <div class="left-part">
           <a class="first-item" href="/">
               <Icon name="hut" size={36} />
           </a>
           <a class="second-item" href="/teas/">
               <Icon name="teapot-leaves" size={36} />
           </a>
       </div>
       <div class="right-part">
           <a class="third-item" href="/library/">
               <Icon name="books" size={36} />
           </a>
           <a class="fourth-item">
                <MenuButton />
           </a>
       </div>
    </div>
</div>

<style>

.nav-menu {
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    margin:0 auto;
    width:100%;
    height: 6rem;
}

.nav-menu input {
    position:absolute;
    top: 0;
    bottom: 0;
    margin: auto 0;
    width: 5rem;
    height: 5rem;
    z-index:20;
    border-radius: 5rem;
    opacity:0;
}

.hamburger {
    position:absolute;
    top: 0;
    bottom: 0;
    margin: auto 0;
    width: 5rem;
    height: 5rem;
    background-color: light-dark(var(--gray-op), var(--button));
    border-radius: 100%;
    box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.15);
    z-index: 10;
}

.dots span {
    position: absolute;
    top: 45%;
    width: .5rem;
    height: .5rem;
    border-radius: .5rem;
    background: #f3eddb;
    z-index: 20;
    transition: all .3s ease-in-out;
}

.first { margin-left: 1rem; }
.second { margin-left: 2.3rem; }
.third { margin-left: 3.5rem; }

.nav-menu input:checked ~ .hamburger .dots .first {
    top: 1.25rem;
    height: 3.5rem;
    transform-origin: top;
    transform: rotate(-45deg);
    transition: all .3s ease-in-out;
  
}

.nav-menu input:checked ~ .hamburger .dots .third {
    top: 1.25rem;
    height: 3.5rem;
    transform-origin: top;
    transform: rotate(45deg);
    transition: all .3s ease-in-out;
}

.action-items-bar {
    position:absolute;
    top: 0;
    bottom: 0;
    margin: auto 0;
    width: 95%;
    height:60px;
    display: grid;
    grid-template-columns: 1fr 80px 1fr;
    grid-template-areas: 
        "left-part hamburger right-part";
    align-items: center;
    justify-content: center;
    background-color: light-dark(var(--gray), #867d7c);
    border-radius:60px;
    box-shadow: 0px 5px 20px light-dark(#444343,#f1c481);
    z-index:5;
  
    animation-name: expand-the-bar;
    animation-duration: 2s;
    animation-timing-function: ease-in-out;
    transform: scaleX(0);
    transition: all .3s ease-in-out;
}

a {
    display: flex;
    align-items: center;
    justify-content: center;
    color: light-dark(var(--foreground), var(--footer)) ;
}

.left-part {
    grid-area: left-part;
    display: flex;
    justify-content: space-around;
}

.right-part {
    margin: 0 0.1rem 0 15%;
    grid-area: right-part;
    display: flex;
    justify-content: space-between;
}

.nav-menu input:checked ~ .action-items-bar
{
  transform:scaleX(1);
}

.first-item { margin: 0 0 0.3rem; }

.nav-menu input:checked ~ .action-items-bar .first-item {
    opacity: 1;
    transition-delay: .45s;
}

.nav-menu input:checked ~ .action-items-bar .second-item {
    opacity: 1;
    transition-delay:.40s;
}
.nav-menu input:checked ~ .action-items-bar .third-item {
    opacity: 1;
    transition-delay: .40s;
}

.nav-menu input:checked ~ .action-items-bar .fourth-item {
    opacity: 1;
    transition-delay: .45s;
}

@media(min-width: 480px) {
    .action-items-bar {
        width: 28.125rem;
    }

    /* .first-item {
        padding: .5rem;
        border: 1px solid var(--active);
        border-radius: 100%;
    } */

    .second-item { margin-right: 0.5rem; }

    .third-item { margin-left: 0.5rem; }
}

@media(min-width: 630px) {
    .nav-menu {
        display: none;
    }
}

</style>