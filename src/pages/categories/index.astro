---
import { getCollection } from "astro:content";
import MainLayout from '../../layouts/MainLayout.astro';

const allTeas = await getCollection("teas");
const categories = [...new Set(allTeas.map((tea) => tea.data.category).flat())];
const pageTitle = "Категорії чаїв";
---

<MainLayout {pageTitle}>
  <div class="container">
    <h1>{pageTitle}:</h1>
      <div class="categories last-line">
          {categories.map((category) => (
              <p class="category"><a href={`/categories/${category}/`}>{category}</a></p>
          ))}
      </div>
  </div>
</MainLayout>

<style>
    a {
      color: light-dark (var(--foreground), var(--foreground-dark));
      padding: .3rem .5rem;
      display: block;
    }
  
    .categories {
      margin-top: 1rem;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
  
    .category {
      margin: 0.25em;
      border: dotted 1px #7c7c7c;
      border-radius: .5em;
      font-size: 1.1rem;
      background-color: var(--button);
    }

    
    .container { padding: 3rem 1rem 1rem; }
    
    @media(min-width: 48rem) {
      .container { padding: 3rem 4rem 1rem; }

      a:hover, a:focus-visible { color: light-dark(var(--background), var(--background-dark));}

      .category:hover,
      a:focus-visible { background-color: var(--active); }

    }
</style>