---
import MainLayout from '../../layouts/MainLayout.astro';
import Search from "astro-pagefind/components/Search";

const pageTitle = "Пошук на сайті:"
---

<MainLayout {pageTitle}>
	<div class="container">
		<h1>{pageTitle}</h1>
		<div class="search-container">
			<Search id="search" className="pagefind-ui" uiOptions={{ 
				showImages: false,
				resetStyles: true,
				debounceTimeoutMs: 500
			}} />

		</div>
	</div>
</MainLayout>

<style is:global>
	:root {
	 --pagefind-ui-scale: 0.8;
	 --pagefind-ui-primary: var(--menu-surface);
	 --pagefind-ui-text: var(--foreground);
	 --pagefind-ui-message-text: light-dark(var(--foreground), var(--foreground-dark));
	 --pagefind-ui-result-title-text: var(--active);
	 --pagefind-ui-result-text: light-dark(var(--foreground), var(--foreground-dark));
	 --pagefind-ui-background: var(--button);
	 --pagefind-input-background: var(--button);
	 --pagefind-ui-border: var(--accent1);
	 --pagefind-ui-tag: #0d0a01;
	 --pagefind-ui-border-width: 2px;
	 --pagefind-ui-border-radius: 8px;
	 --pagefind-ui-image-border-radius: 8px;
	 --pagefind-ui-image-box-ratio: 3 / 2;
	 --pagefind-ui-font: Arial, sans-serif;
	 --pagefind-button-background: var(--pagefind-input-background);
	 --pagefind-button-color: var(--pagefind-ui-message-text);
	}
	[data-theme="light"] {
	 --pagefind-ui-primary: var(--menu-surface);
	 --pagefind-ui-text: #fff;
	 --pagefind-ui-message-text: #000;
	 --pagefind-ui-result-title-text: var(--brand);
	 --pagefind-ui-result-text: #000;
	 --pagefind-ui-background: var(--surface1);
	 --pagefind-input-background: var(--brand);
	 --pagefind-ui-border: var(--accent1);
	 --pagefind-ui-tag: #0d0a01;
	 --pagefind-button-color: var(--pagefind-ui-text);
	 }
	[data-theme="dark"] {
	 --pagefind-ui-primary: var(--menu-surface);
	 --pagefind-ui-text: #fff;
	 --pagefind-ui-message-text: var(--pagefind-ui-text);
	 --pagefind-ui-result-title-text: var(--accent1);
	 --pagefind-ui-result-text: #fff;
	 --pagefind-ui-background: #83645a;
	 --pagefind-input-background: var(--brand);
	 --pagefind-ui-border: var(--brand);
	 --pagefind-ui-tag: #b59c94;
	 }

	#search .pagefind-ui__search-input, #search .pagefind-ui__search-clear {
	 background-color: var(--pagefind-input-background);
	 color: var(--pagefind-ui-text);
	 }
	#search .pagefind-ui__search-clear {
		padding: 0;
	}

	#search .pagefind-ui__result-title, #search .pagefind-ui__result-link {
	 display: inline-block;
	 font-weight: 700;
	 font-size: calc(40px * var(--pagefind-ui-scale));
	 color: var(--pagefind-ui-result-title-text);
	 }
	#search .pagefind-ui__result-excerpt {
	 color: var(--pagefind-ui-result-text);
	 font-weight: 400;
	 font-size: calc(1.5rem * var(--pagefind-ui-scale));
	 }
	#search .pagefind-ui__message {
	 color: var(--pagefind-ui-message-text);
	 margin: calc(0.5rem * var(--pagefind-ui-scale)) 0 calc(1.5rem * var(--pagefind-ui-scale)) calc(0.5rem * var(--pagefind-ui-scale));
	 }
	#search .pagefind-ui__button {
	 color: var(--pagefind-button-color);
	 background: var(--pagefind-button-background);
	 }
	#search .pagefind-ui__result-thumb {
	 display: none;
	 }
	</style>

<style>
	main {
		background-color: var(--button);
	}
	.container {
		padding: 3rem 1rem 1rem; 
	}
	h1 { margin-bottom: 1rem; }
	
	.search-container {
		padding: 2rem;
		border-radius: 0.5rem;
	}

	@media(min-width: 48rem) {
		main {
			margin-top: 5rem;
		}
		.container { 
			padding: 3rem 5rem 1rem; 
		}
	}

</style>